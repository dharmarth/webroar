<!--
WebROaR - Ruby Application Server - http://webroar.in/
Copyright (C) 2009  Goonj LLC

This file is part of WebROaR.

WebROaR is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

WebROaR is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with WebROaR.  If not, see <http://www.gnu.org/licenses/>.
-->

  <div id = 'reload'><%=link_to_remote 'Back', :update => 'exceptions_listing_div', :url => {:controller => 'exceptions', :action => 'list', :application_name => params[:application_name]}%></div>
  <table width = 90% cellpadding = 5px style = "word-wrap: break-word;">
    <tr>
      <td width = 15%><b>Exception:-</b></td>
      <td><%=h @excep.exception_message%></td>
    </tr>
    <tr>
      <td><b>Class :-</b></td>
      <td><%=h @excep.exception_class%></td>
    </tr>
    <tr>
      <td><b>URL :-</b></td>
      <td><%=h @excep.controller%>/<%=h @excep.method%></td>
    </tr>
    <tr>
      <td><b>Occurrences :-</b></td>
      <td><%=h @exceptions.size%></td>
    </tr>
    <%@exceptions.each do |exception|%>
    <tr>
      <td>&nbsp;</td>
      <td><%=h exception.wall_time.strftime("%d-%b-%Y %H:%M:%S")%></td>
    </tr>
    <%end%>
    <tr>
      <td  colspan = 2><b>Backtrace :-</b> </td>
    </tr>
    <tr>
      <td  colspan = 2><%= @excep.exception_backtrace.gsub(/\n/, '<br>')%></td>
    </tr>
    <tr>
      <td  colspan = 2><b>Environment :-</b> </td>
    </tr>
    <tr>
      <td><b>CHUNKED :-</b></td>
      <td  colspan = 2><%=h @excep.chunked%></td>
    </tr>
    <tr>
      <td><b>CONTENT_LENGTH :-</b></td>
      <td  colspan = 2><%=h @excep.content_length%></td>
    </tr>
    <tr>
      <td><b>HTTP_ACCEPT :-</b></td>
      <td  colspan = 2><%=h @excep.http_accept%></td>
    </tr>
    <tr>
      <td><b>HTTP_ACCEPT_CHARSET :-</b></td>
      <td  colspan = 2><%=h @excep.http_accept_charset%></td>
    </tr>
    <tr>
      <td><b>HTTP_ACCEPT_ENCODING :-</b></td>
      <td  colspan = 2><%=h @excep.http_accept_encoding%></td>
    </tr>
    <tr>
      <td><b>HTTP_CONNECTION :-</b></td>
      <td  colspan = 2><%=h @excep.http_connection%></td>
    </tr>
    <tr>
      <td><b>HTTP_COOKIE :-</b></td>
      <td  colspan = 2><div style="width:650px;overflow-x:auto;"><%=h @excep.http_cookie%></div></td>
    </tr>
    <tr>
      <td><b>HTTP_HOST :-</b></td>
      <td  colspan = 2><%=h @excep.http_host%></td>
    </tr>
    <tr>
      <td><b>HTTP_KEEP_ALIVE :-</b></td>
      <td  colspan = 2><%=h @excep.http_keep_alive%></td>
    </tr>
    <tr>
      <td><b>HTTP_USER_AGENT :-</b></td>
      <td  colspan = 2><%=h @excep.http_user_agent%></td>
    </tr>
    <tr>
      <td><b>HTTP_VERSION :-</b></td>
      <td  colspan = 2><%=h @excep.http_version%></td>
    </tr>
    <tr>
      <td><b>PATH_INFO :-</b></td>
      <td  colspan = 2><%=h @excep.path_info%></td>
    </tr>
    <tr>
      <td><b>QUERY_STRING :-</b></td>
      <td  colspan = 2><%=h @excep.query_string%></td>
    </tr>
    <tr>
      <td><b>REMOTE_ADDR :-</b></td>
      <td  colspan = 2><%=h @excep.remote_addr%></td>
    </tr>
    <tr>
      <td><b>REQUEST_METHOD :-</b></td>
      <td  colspan = 2><%=h @excep.request_method%></td>
    </tr>
    <tr>
      <td><b>REQUEST_PATH :-</b></td>
      <td  colspan = 2><%=h @excep.request_path%></td>
    </tr>
    <tr>
      <td><b>REQUEST_URI :-</b></td>
      <td  colspan = 2><%=h @excep.request_uri%></td>
    </tr>
    <tr>
      <td><b>SCRIPT_NAME :-</b></td>
      <td  colspan = 2><%=h @excep.script_name%></td>
    </tr>
    <tr>
      <td><b>SERVER_NAME :-</b></td>
      <td  colspan = 2><%=h @excep.server_name%></td>
    </tr>
    <tr>
      <td><b>SERVER_PORT :-</b></td>
      <td  colspan = 2><%=h @excep.server_port%></td>
    </tr>
    <tr>
      <td><b>SERVER_PROTOCOL :-</b></td>
      <td  colspan = 2><%=h @excep.server_protocol%></td>
    </tr>
    <tr>
      <td><b>SERVER_SOFTWARE :-</b></td>
      <td  colspan = 2><%=h @excep.server_software%></td>
    </tr>
    <tr>
      <td><b>rack.errors :-</b></td>
      <td  colspan = 2><%=h @excep.rack_errors%></td>
    </tr>
    <tr>
      <td><b>rack.input :-</b></td>
      <td  colspan = 2><%=h @excep.rack_input%></td>
    </tr>
    <tr>
      <td><b>rack.multiprocess :-</b></td>
      <td  colspan = 2><%=h @excep.rack_multiprocess%></td>
    </tr>
    <tr>
      <td><b>rack.multithread :-</b></td>
      <td  colspan = 2><%=h @excep.rack_multithread%></td>
    </tr>
    <tr>
      <td><b>rack.run_once :-</b></td>
      <td  colspan = 2><%=h @excep.rack_run_once%></td>
    </tr>
    <tr>
      <td><b>rack.url_scheme :-</b></td>
      <td  colspan = 2><%=h @excep.rack_url_scheme%></td>
    </tr>
    <tr>
      <td><b>rack.version :-</b></td>
      <td  colspan = 2><%=h @excep.rack_version%></td>
    </tr>
  </table>
  <br/>
  <br/>
  <div id = 'reload'><%=link_to_remote 'Back', :update => 'exceptions_listing_div', :url => {:controller => 'exceptions', :action => 'list', :application_name => params[:application_name]}%></div>
