<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ApplicationSpecification</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ApplicationSpecification</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/models/application_specification_rb.html">
                app/models/application_specification.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="PseudoModel.html">
                PseudoModel
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000133">delete</a>&nbsp;&nbsp;
      <a href="#M000135">get_application_id_from_name</a>&nbsp;&nbsp;
      <a href="#M000134">get_hash</a>&nbsp;&nbsp;
      <a href="#M000130">obj_to_hash</a>&nbsp;&nbsp;
      <a href="#M000128">remove</a>&nbsp;&nbsp;
      <a href="#M000129">remove</a>&nbsp;&nbsp;
      <a href="#M000131">update</a>&nbsp;&nbsp;
      <a href="#M000132">validate</a>&nbsp;&nbsp;
      <a href="#M000127">write</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000133" class="method-detail">
        <a name="M000133"></a>

        <div class="method-heading">
          <a href="#M000133" class="method-signature">
          <span class="method-name">delete</span><span class="method-args">(app_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000133-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000133-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 302</span>
302:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">app_id</span>)
303:       <span class="ruby-identifier">info</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
304:       <span class="ruby-identifier">app_name</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">app_id</span>][<span class="ruby-value str">&quot;name&quot;</span>]
305:       <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">app_id</span>)
306:       <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
307:         <span class="ruby-identifier">info</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'Application Specification'</span>)
308:       <span class="ruby-keyword kw">end</span>       
309:       <span class="ruby-constant">YAMLWriter</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">info</span>,<span class="ruby-constant">CONFIG_FILE_PATH</span>,<span class="ruby-value str">&quot;config&quot;</span>)
310:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">app_name</span>
311:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000135" class="method-detail">
        <a name="M000135"></a>

        <div class="method-heading">
          <a href="#M000135" class="method-signature">
          <span class="method-name">get_application_id_from_name</span><span class="method-args">(application_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000135-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000135-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 352</span>
352:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_application_id_from_name</span>(<span class="ruby-identifier">application_name</span>)
353:         <span class="ruby-identifier">info</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
354:         <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span> 
355:         <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>]
356:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>][<span class="ruby-value str">'name'</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">application_name</span>
357:             <span class="ruby-keyword kw">break</span>
358:           <span class="ruby-keyword kw">end</span>
359:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span><span class="ruby-value">1</span>
360:         <span class="ruby-keyword kw">end</span>  
361:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">i</span>
362:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000134" class="method-detail">
        <a name="M000134"></a>

        <div class="method-heading">
          <a href="#M000134" class="method-signature">
          <span class="method-name">get_hash</span><span class="method-args">(application_id = 1000)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This method is to get application specifications for a specific application
from WebROaR config file.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000134-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000134-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 314</span>
314:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_hash</span>(<span class="ruby-identifier">application_id</span> = <span class="ruby-value">1000</span>)
315:       <span class="ruby-identifier">info</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
316:       <span class="ruby-identifier">name</span> = <span class="ruby-value str">&quot;&quot;</span>    
317:       <span class="ruby-identifier">path</span> = <span class="ruby-value str">&quot;&quot;</span>
318:       <span class="ruby-identifier">run_as_user</span> = <span class="ruby-value str">&quot;&quot;</span>
319:       <span class="ruby-identifier">type</span> = <span class="ruby-value str">&quot;Rails&quot;</span>
320:       <span class="ruby-identifier">analytics</span> = <span class="ruby-value str">&quot;Disabled&quot;</span>
321:       <span class="ruby-identifier">environment</span> = <span class="ruby-value str">&quot;Production&quot;</span>
322:       <span class="ruby-identifier">port</span>, <span class="ruby-identifier">min_worker</span>, <span class="ruby-identifier">max_worker</span>, <span class="ruby-identifier">log_level</span> = <span class="ruby-constant">ServerSpecification</span>.<span class="ruby-identifier">get_fields</span>
323:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">application_id</span>.<span class="ruby-identifier">nil?</span>
324:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>] 
325:           <span class="ruby-identifier">name</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'name'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'name'</span>]
326:           <span class="ruby-identifier">baseuri</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'baseuri'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'baseuri'</span>]        
327:           <span class="ruby-identifier">host_names</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'host_names'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'host_names'</span>]       
328:           <span class="ruby-identifier">path</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'path'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'path'</span>] 
329:           <span class="ruby-identifier">run_as_user</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'run_as_user'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'run_as_user'</span>]    
330:           <span class="ruby-identifier">type</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'type'</span>].<span class="ruby-identifier">capitalize</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'type'</span>]
331:           <span class="ruby-identifier">analytics</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'analytics'</span>].<span class="ruby-identifier">capitalize</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'analytics'</span>]
332:           <span class="ruby-identifier">environment</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'environment'</span>].<span class="ruby-identifier">capitalize</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'environment'</span>]
333:           <span class="ruby-identifier">min_worker</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'min_worker'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'min_worker'</span>]
334:           <span class="ruby-identifier">max_worker</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'max_worker'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">application_id</span>][<span class="ruby-value str">'max_worker'</span>]
335:         <span class="ruby-keyword kw">end</span>
336:       <span class="ruby-keyword kw">end</span>
337:       <span class="ruby-identifier">app_hash</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">:app_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">application_id</span>.<span class="ruby-identifier">to_i</span>, 
338:         <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>,                
339:         <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path</span>,
340:         <span class="ruby-identifier">:run_as_user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">run_as_user</span>,
341:         <span class="ruby-identifier">:type1</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>,
342:         <span class="ruby-identifier">:analytics</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">analytics</span>,
343:         <span class="ruby-identifier">:environment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">environment</span>,
344:         <span class="ruby-identifier">:min_worker</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">min_worker</span>,
345:         <span class="ruby-identifier">:max_worker</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_worker</span>]
346:       <span class="ruby-identifier">app_hash</span>[<span class="ruby-identifier">:resolver</span>] = <span class="ruby-identifier">baseuri</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">baseuri</span>
347:       <span class="ruby-identifier">app_hash</span>[<span class="ruby-identifier">:resolver</span>] = <span class="ruby-identifier">host_names</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host_names</span>
348: 
349:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">app_hash</span>  
350:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000128" class="method-detail">
        <a name="M000128"></a>

        <div class="method-heading">
          <a href="#M000128" class="method-signature">
          <span class="method-name">remove</span><span class="method-args">(app_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000128-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000128-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-identifier">app_name</span>)
63:     <span class="ruby-identifier">server_specification</span> = <span class="ruby-constant">ServerSpecification</span>.<span class="ruby-identifier">get_hash</span>
64:     <span class="ruby-identifier">info</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
65:     
66:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>]
67:       <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
68:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span>[<span class="ruby-value str">'name'</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">app_name</span>.<span class="ruby-identifier">to_s</span>)
69:           <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">x</span>)
70:         <span class="ruby-keyword kw">end</span>
71:       <span class="ruby-keyword kw">end</span>
72:       
73:       <span class="ruby-identifier">info</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-value str">'Server Specification'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">server_specification</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
74: 
75:     <span class="ruby-keyword kw">end</span>
76: 
77:     <span class="ruby-constant">YAMLWriter</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">info</span>, <span class="ruby-constant">CONFIG_FILE_PATH</span>, <span class="ruby-value str">&quot;config&quot;</span>)
78:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000130" class="method-detail">
        <a name="M000130"></a>

        <div class="method-heading">
          <a href="#M000130" class="method-signature">
          <span class="method-name">obj_to_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converting <a
href="ApplicationSpecification.html">ApplicationSpecification</a> obeject
into a Hash.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000130-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000130-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">obj_to_hash</span>
86:     <span class="ruby-identifier">app</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">&quot;run_as_user&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">run_as_user</span>.<span class="ruby-identifier">downcase</span>, <span class="ruby-value str">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type1</span>.<span class="ruby-identifier">downcase</span>, <span class="ruby-value str">&quot;analytics&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">analytics</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>, <span class="ruby-value str">&quot;environment&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">environment</span>.<span class="ruby-identifier">downcase</span>, <span class="ruby-value str">&quot;min_worker&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">min_worker</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-value str">&quot;max_worker&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_worker</span>.<span class="ruby-identifier">to_i</span>]
87:     <span class="ruby-identifier">app</span>[<span class="ruby-value str">&quot;baseuri&quot;</span>] = <span class="ruby-identifier">baseuri</span>.<span class="ruby-identifier">strip</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">baseuri</span>
88:     <span class="ruby-identifier">app</span>[<span class="ruby-value str">&quot;host_names&quot;</span>] = <span class="ruby-identifier">host_names</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host_names</span>
89:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">app</span>
90:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000129" class="method-detail">
        <a name="M000129"></a>

        <div class="method-heading">
          <a href="#M000129" class="method-signature">
          <span class="method-name">remove</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000129-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000129-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 80</span>
80:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>
81:     <span class="ruby-constant">ApplicationSpecification</span><span class="ruby-operator">::</span><span class="ruby-identifier">remove</span>(<span class="ruby-identifier">name</span>)
82:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000131" class="method-detail">
        <a name="M000131"></a>

        <div class="method-heading">
          <a href="#M000131" class="method-signature">
          <span class="method-name">update</span><span class="method-args">(app_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000131-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000131-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 92</span>
92:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">app_id</span>)
93:     <span class="ruby-identifier">info</span> = <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
94:     <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">app_id</span>] = <span class="ruby-identifier">obj_to_hash</span>     
95:     <span class="ruby-constant">YAMLWriter</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">info</span>, <span class="ruby-constant">CONFIG_FILE_PATH</span>, <span class="ruby-value str">&quot;config&quot;</span>)
96:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000132" class="method-detail">
        <a name="M000132"></a>

        <div class="method-heading">
          <a href="#M000132" class="method-signature">
          <span class="method-name">validate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
this method is used to <a
href="ApplicationSpecification.html#M000132">validate</a> the various
fields of the apps model.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000132-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000132-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 99</span>
 99:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>     
100: <span class="ruby-comment cmt">#    errors.add_to_base MIN_WORKERS_VALIDATION if min_worker.to_i &gt; 20</span>
101:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">max_worker</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">min_worker</span>.<span class="ruby-identifier">to_i</span>
102:       <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">MAX_WORKERS_VALIDATION_1</span>
103: <span class="ruby-comment cmt">#    elsif max_worker.to_i &gt; 20</span>
104: <span class="ruby-comment cmt">#      errors.add_to_base MAX_WORKERS_VALIDATION_2</span>
105:     <span class="ruby-keyword kw">end</span>
106: <span class="ruby-comment cmt">#    errors.add_to_base APPLICATION_PATH_EXISTANCE_VALIDATION if !File.directory?(path)</span>
107:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">ANALYTICS_VALIDATION</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type1</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;Rails&quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">analytics</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;enabled&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">analytics</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;disabled&quot;</span>)
108:     <span class="ruby-comment cmt">#errors.add_to_base ENVIRONMENT_VALIDATION if !(environment.downcase == &quot;production&quot; or environment.downcase == &quot;development&quot; or environment.downcase == &quot;test&quot;)</span>
109:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">TYPE_VALIDATION</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">type1</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RAILS</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">type1</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RACK</span>)
110:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">type1</span>
111:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type1</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RAILS</span>
112:         <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-value str">'config'</span>, <span class="ruby-value str">'environment.rb'</span>))
113:           <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-value str">&quot;The entered application path is not a valid Rails application path.&quot;</span>
114:         <span class="ruby-keyword kw">end</span>
115:       <span class="ruby-keyword kw">end</span>
116:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type1</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RACK</span>
117:         <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-value str">'config.ru'</span>))
118:           <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-value str">&quot;The entered application path is not a valid Rack application path.&quot;</span>
119:         <span class="ruby-keyword kw">end</span>
120:       <span class="ruby-keyword kw">end</span>      
121:     <span class="ruby-keyword kw">end</span>  
122:     <span class="ruby-comment cmt"># Resolver take either baseuri or host_names, not both. </span>
123:     <span class="ruby-comment cmt"># baseuri starts with '/'</span>
124:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">resolver</span>
125:       <span class="ruby-identifier">tokens</span> = <span class="ruby-identifier">resolver</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/ /</span>)
126:       
127:       <span class="ruby-identifier">curr_host_names</span> = []
128:       <span class="ruby-identifier">host_names_flag</span> = <span class="ruby-value">0</span>
129:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">start_with?</span>(<span class="ruby-value str">'/'</span>)
130:         <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">:baseuri</span>, <span class="ruby-identifier">resolver</span>)
131:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-value str">&quot;BaseURI must start with '/' and contains characters A-Z, a-z, 0-9 , _ , -  and /.&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">baseuri</span>.<span class="ruby-identifier">strip</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\/[A-Za-z0-9_\-\/]*$/i</span>)
132:       <span class="ruby-keyword kw">else</span>
133:         <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">:host_names</span>, <span class="ruby-identifier">resolver</span>)
134:         <span class="ruby-identifier">host_name_flag</span> = <span class="ruby-value">1</span>
135:       <span class="ruby-keyword kw">end</span>
136: 
137:       <span class="ruby-comment cmt"># More than one token would come only in case of host_names</span>
138:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host_name_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
139:         <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">token</span><span class="ruby-operator">|</span>
140:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">token</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
141:           <span class="ruby-identifier">len</span> = <span class="ruby-identifier">token</span>.<span class="ruby-identifier">size</span>
142:           <span class="ruby-comment cmt"># Whole name can not exceed total length of 253</span>
143:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">len</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">253</span>
144:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LENGTH_EXCEEDS</span>
145:             <span class="ruby-keyword kw">next</span>
146:           <span class="ruby-keyword kw">end</span>
147:           <span class="ruby-comment cmt"># Subdivision can go down to maximum 127 level.</span>
148:           <span class="ruby-identifier">labels</span> = <span class="ruby-identifier">token</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\./</span>)
149:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">labels</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">127</span>
150:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">SUBDIVISION_EXCEEDS_127</span>
151:             <span class="ruby-keyword kw">next</span>
152:           <span class="ruby-keyword kw">end</span>
153:           <span class="ruby-comment cmt"># Start with '/' indicates BaseURI</span>
154:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-value str">'/'</span>)
155:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">BASEURI_AND_HOSTNAMES_EXIST</span>
156:             <span class="ruby-keyword kw">break</span>
157:           <span class="ruby-keyword kw">end</span>
158:           <span class="ruby-comment cmt"># If wildcard '*' presents, Hostname should prefix with '~'</span>
159:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;*&quot;</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">token</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^~/</span>)
160:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{token} - #{START_WTIH_TILD}&quot;</span>
161:             <span class="ruby-keyword kw">next</span>
162:           <span class="ruby-keyword kw">end</span>
163:           <span class="ruby-comment cmt"># Wildcard '*' can come either at start or at end, not inbetween</span>
164:           <span class="ruby-identifier">pos</span> = <span class="ruby-identifier">token</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'*'</span>, <span class="ruby-value">1</span>)
165:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pos</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">!=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">len</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>
166:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{token} - #{WILDCARD_AT_START_OR_END}&quot;</span>
167:             <span class="ruby-keyword kw">next</span>
168:           <span class="ruby-keyword kw">end</span>
169:           <span class="ruby-identifier">pos</span> = <span class="ruby-identifier">token</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'*'</span>, <span class="ruby-value">2</span>)
170:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pos</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">len</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
171:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{token} - #{WILDCARD_AT_START_OR_END}&quot;</span>
172:             <span class="ruby-keyword kw">next</span>
173:           <span class="ruby-keyword kw">end</span>
174:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">token</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/[.][.]/</span>
175:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{token} - #{CONSECUTIVE_DOTS}&quot;</span>
176:             <span class="ruby-keyword kw">next</span>
177:           <span class="ruby-keyword kw">end</span>
178:           <span class="ruby-comment cmt"># Check for Letters, Digits and Hyphen</span>
179:           <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">0</span>
180:           <span class="ruby-comment cmt">#first label can have '~' as first char and '*' as second char, last label can have '*' as last character</span>
181:           <span class="ruby-identifier">first_label</span> = <span class="ruby-identifier">labels</span>[<span class="ruby-value">0</span>]
182:           <span class="ruby-identifier">last_label</span> = <span class="ruby-identifier">labels</span>[<span class="ruby-identifier">labels</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
183:           <span class="ruby-identifier">labels</span> = <span class="ruby-identifier">labels</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">labels</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>]
184:           <span class="ruby-identifier">labels</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">label</span><span class="ruby-operator">|</span>
185:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">label</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">63</span>
186:               <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">LABEL_LENGTH_EXCEEDS</span>
187:               <span class="ruby-keyword kw">next</span>
188:             <span class="ruby-keyword kw">end</span>
189:             <span class="ruby-identifier">label</span>.<span class="ruby-identifier">each_char</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
190:               <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'-'</span>
191:                 <span class="ruby-keyword kw">next</span>
192:               <span class="ruby-keyword kw">else</span>
193:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
194:                 <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
195:                 <span class="ruby-keyword kw">break</span>;
196:               <span class="ruby-keyword kw">end</span>
197:             <span class="ruby-keyword kw">end</span>
198:           <span class="ruby-keyword kw">end</span>
199:           <span class="ruby-identifier">char_array</span> = []
200:           <span class="ruby-identifier">first_label</span>.<span class="ruby-identifier">each_char</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
201:             <span class="ruby-identifier">char_array</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
202:           <span class="ruby-keyword kw">end</span>
203:           <span class="ruby-comment cmt">#p char_array</span>
204:           <span class="ruby-comment cmt"># checking first character of first label against LDH and ~</span>
205:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
206:             <span class="ruby-identifier">c</span> = <span class="ruby-identifier">char_array</span>[<span class="ruby-value">0</span>]
207:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'~'</span>
208:             <span class="ruby-keyword kw">else</span>
209:               <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
210:               <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
211:             <span class="ruby-keyword kw">end</span>
212:           <span class="ruby-keyword kw">end</span>
213:           <span class="ruby-comment cmt">#checking second char of first label against LDH and *</span>
214:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
215:             <span class="ruby-identifier">c</span> = <span class="ruby-identifier">char_array</span>[<span class="ruby-value">1</span>]
216:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'*'</span>
217:             <span class="ruby-keyword kw">else</span>
218:               <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
219:               <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
220:             <span class="ruby-keyword kw">end</span>
221:           <span class="ruby-keyword kw">end</span>
222:           <span class="ruby-comment cmt">#checking remaining character of first label against LDH</span>
223:           <span class="ruby-identifier">char_array</span> = <span class="ruby-identifier">char_array</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-identifier">char_array</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
224:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
225:             <span class="ruby-identifier">char_array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
226:               <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'-'</span>
227:                 <span class="ruby-keyword kw">next</span>
228:               <span class="ruby-keyword kw">else</span>
229:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
230:                 <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
231:                 <span class="ruby-keyword kw">break</span>;
232:               <span class="ruby-keyword kw">end</span>
233:             <span class="ruby-keyword kw">end</span>
234:           <span class="ruby-keyword kw">end</span>
235:           <span class="ruby-comment cmt">#checking last character of last label against LDH and *</span>
236:           <span class="ruby-identifier">char_array</span> = []
237:           <span class="ruby-identifier">last_label</span>.<span class="ruby-identifier">each_char</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
238:             <span class="ruby-identifier">char_array</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
239:           <span class="ruby-keyword kw">end</span>
240:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
241:             <span class="ruby-identifier">c</span> = <span class="ruby-identifier">char_array</span>[<span class="ruby-identifier">char_array</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
242:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'*'</span>
243:             <span class="ruby-keyword kw">else</span>
244:               <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
245:               <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
246:             <span class="ruby-keyword kw">end</span>
247:           <span class="ruby-keyword kw">end</span>
248:           <span class="ruby-comment cmt">#checking remaining characters of the last label against LDH</span>
249:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
250:             <span class="ruby-identifier">char_array</span> = <span class="ruby-identifier">char_array</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">char_array</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>]
251:             <span class="ruby-identifier">char_array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
252:               <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'A'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'Z'</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'0'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'9'</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'*'</span>
253:               <span class="ruby-keyword kw">else</span>
254:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_LDH</span>
255:                 <span class="ruby-identifier">err_flag</span> = <span class="ruby-value">1</span>
256:               <span class="ruby-keyword kw">end</span>
257:             <span class="ruby-keyword kw">end</span>
258:           <span class="ruby-keyword kw">end</span>
259:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err_flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
260:             <span class="ruby-identifier">curr_host_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">token</span>
261:           <span class="ruby-keyword kw">end</span>
262:         <span class="ruby-keyword kw">end</span>
263:       <span class="ruby-keyword kw">end</span>
264: 
265:       <span class="ruby-comment cmt">#BaseURI can not be /admin-panel</span>
266:       <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">BASEURI_AS_ADMIN_PANEL_BASEURI_VALIDATION</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">baseuri</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">baseuri</span>.<span class="ruby-identifier">strip</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ADMIN_PANEL_BASE_URI</span>
267:       <span class="ruby-identifier">all_host_names</span> = []
268:       <span class="ruby-identifier">curr_host_names_size</span> = <span class="ruby-identifier">curr_host_names</span>.<span class="ruby-identifier">size</span>
269: 
270:       <span class="ruby-comment cmt">#checking uniqueness of BaseURI</span>
271:       <span class="ruby-identifier">info</span>= <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>)
272:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>]
273:         <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
274:         <span class="ruby-identifier">flag</span> = <span class="ruby-value">0</span>
275:         <span class="ruby-keyword kw">while</span>(<span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>])
276:           <span class="ruby-identifier">flag</span> = <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">baseuri</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">baseuri</span>.<span class="ruby-identifier">strip</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>][<span class="ruby-value str">'baseuri'</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">baseuri</span>.<span class="ruby-identifier">strip</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">app_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span>
277:           <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{name} - #{APPLICATION_NAME_REPEATED}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>][<span class="ruby-value str">'name'</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">app_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span>
278:           <span class="ruby-identifier">all_host_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>][<span class="ruby-value str">'host_names'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/ /</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>][<span class="ruby-value str">'host_names'</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">curr_host_names_size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">app_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span>
279:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
280:         <span class="ruby-keyword kw">end</span>
281:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">BASEURI_EXISTANCE_VALIDATION</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">flag</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
282:       <span class="ruby-keyword kw">end</span>
283:       <span class="ruby-identifier">all_host_names</span>.<span class="ruby-identifier">flatten!</span>
284:       <span class="ruby-comment cmt"># checking uniqueness of Hostnames</span>
285:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">curr_host_names_size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
286:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-constant">HOSTNAME_REPEATED</span>  <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">curr_host_names_size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">curr_host_names</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">size</span>
287:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">all_host_names</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
288:           <span class="ruby-identifier">curr_host_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c_host_name</span><span class="ruby-operator">|</span>
289:             <span class="ruby-identifier">all_host_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">host_name</span><span class="ruby-operator">|</span>
290:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c_host_name</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">host_name</span>)
291:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-node">&quot;#{c_host_name}-#{HOSTNAME_REPEATED }&quot;</span>
292:                 <span class="ruby-keyword kw">break</span>
293:               <span class="ruby-keyword kw">end</span>
294:             <span class="ruby-keyword kw">end</span>
295:           <span class="ruby-keyword kw">end</span>
296:         <span class="ruby-keyword kw">end</span>
297:       <span class="ruby-keyword kw">end</span>
298:     <span class="ruby-keyword kw">end</span>
299:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000127" class="method-detail">
        <a name="M000127"></a>

        <div class="method-heading">
          <a href="#M000127" class="method-signature">
          <span class="method-name">write</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
validates_format_of :baseuri, :with =&gt; /^\/[A-Za-z0-9_\-\/]*$/i,
:message =&gt; &quot;must start with &#8217;/&#8217; and contains
characters A-Z, a-z, 0-9 , _ , - and /.&quot;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000127-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000127-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/application_specification.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>
45:     <span class="ruby-identifier">server_specification</span> = <span class="ruby-constant">ServerSpecification</span>.<span class="ruby-identifier">get_hash</span>
46:     <span class="ruby-identifier">info</span>= <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load_file</span>(<span class="ruby-constant">CONFIG_FILE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
47:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span> 
48:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>]
49:         <span class="ruby-identifier">i</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>].<span class="ruby-identifier">size</span>
50:         <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>][<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">obj_to_hash</span>
51:         <span class="ruby-identifier">data</span> = <span class="ruby-identifier">info</span>[<span class="ruby-value str">'Application Specification'</span>]
52:       <span class="ruby-keyword kw">else</span>
53:         <span class="ruby-identifier">data</span> = <span class="ruby-constant">Array</span>[<span class="ruby-identifier">obj_to_hash</span>]
54:       <span class="ruby-keyword kw">end</span>
55:     <span class="ruby-keyword kw">else</span>
56:       <span class="ruby-identifier">data</span> = <span class="ruby-constant">Array</span>[<span class="ruby-identifier">obj_to_hash</span>]
57:     <span class="ruby-keyword kw">end</span>
58:     <span class="ruby-identifier">info</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-value str">'Server Specification'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">server_specification</span>, <span class="ruby-value str">'Application Specification'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">data</span>]
59:     <span class="ruby-constant">YAMLWriter</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">info</span>, <span class="ruby-constant">CONFIG_FILE_PATH</span>, <span class="ruby-value str">&quot;config&quot;</span>)
60:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>